.main-menu{
  position: relative;
}
.nav-menu, .nav-menu * {margin: 0;padding: 0;list-style: none;}
.nav-menu{
  &>li{
    margin: 0 0.75rem 0 0;
    position: relative;
    &>a{
      padding: 5px 0.5rem;text-decoration: none;display: inline-block;color: $body-color;font-size: 1rem;outline: none;font-weight: 700;position: relative;border-top:2px solid transparent;border-bottom:2px solid transparent;text-transform: uppercase;
    }
    &:hover, &.active{
      &>a{border-bottom:2px solid $primary;}
    }
    &.sp-link{
      &>a{
        border-width: 1px;
        border-color: $secondary;
        color: $secondary !important;
        font-size: 1rem;
        padding: 0.5rem 1rem;
        &:hover{
          color: $white !important;
          border-color: $primary;
        }
      }
    }
  }
  &>li:first-child{
    margin: 0;
    &:before{content: normal;}
  }

  ul {
    position: absolute;display: none;top: 100%;right: 0;z-index: 99;margin: 0;padding: .5rem;box-shadow: 0px 0px 30px rgba($black, 0.1);background: $white;border-radius:20px;
    li {
      position: relative;white-space: nowrap;min-width: 180px;transition: 0.3s;
      &>a {padding: 0.5rem 1rem;color: $body-color ;transition: 0.3s;display: block;font-size: 0.875rem;text-transform: none;border-radius: 100px;}
      &:hover, &.active{
        &>a{color: $white;background-color: $dark;}
      }
    }
    ul {
      position: absolute;top: 0;left: 100%;width: 100%;
    }
  }
  li:hover > ul, li.sfHover > ul {display: block}
}
.contact-page .nav-menu > li.sp-link:hover > a, .contact-page .nav-menu > li.sp-link.active >a{border-bottom:1px solid $secondary;pointer-events: none;opacity: .5;}
.header-scrolled{
  .nav-menu{
    &>li{
      &>a{color: $dark;}
      &:hover, &.active{
        &>a{color: $dark;}
      }
    }
  }
}
.sf-arrows{
  .sf-with-ul {
    padding-right:0;
    /*&:after {content: "\ea17";position: absolute;right: 10px;font-family: 'boxicons' !important;font-style: normal;font-weight: normal;font-size: 1.25rem;top: 50%;transform: translateY(-50%);}*/
  }
  ul{
    .sf-with-ul:after {content: "\ea1d";position: absolute;right: 0px;font-family: 'boxicons' !important;font-style: normal;font-weight: normal;font-size: 1.25rem;top: 50%;transform: translateY(-50%);}
  }
}
#mobile-nav-toggle {
  border: 0;background: none;font-size: 36px;display: none;transition: all 0.4s;outline: none;cursor: pointer;right: 0;top: 0;
  i {color: $body-color;-webkit-text-stroke:1.25px $white}
}
@media (max-width: 1199.98px) {
  .nav-menu{
    &>li{
      margin: 0 0 0 2rem;
      &:before{
        left: -1rem;
      }
    }
  }
}
@media (max-width: 991.98px) {
  #mobile-nav-toggle {display: flex;width: 38px;padding: 0;margin-left: 1rem;}
  #nav-menu-container {display: none}
}
@media (min-width: 992px) {
  .nav-menu{display: -ms-flexbox!important;display: flex!important;-ms-flex-wrap: wrap!important;flex-wrap: wrap!important;}
  .m-nav, .m-icon{display: none !important;}
  .nav-menu-container{display: flex;justify-content: flex-end;}
  #header{
    &.header-scrolled {
      .header-actions{display: none;}
    }
  }

  .nav-menu{
    &>.mega-menu{
      position: static;
      &> ul{
        width:100%;
        max-width:1320px;
        display: flex;
        left: 0;right: 0;margin: 0 auto;
        padding: 0;
        &> ul{
          flex: 1 0 0%;
        }
      }
      .mega-menu-child{
        padding: .5rem;
        width: 16.6666666667%;
        max-width: 100%;
        white-space: unset;
        &:hover{
          &> a.label{
            background-color: transparent;
            color: $body-color;
          }
        }
        &>a.label, &>span.label{
          font-weight: 700;
          display: block;
          padding:0.5rem 1rem;
          font-size:1rem;
          line-height: normal;
          position: relative;
          border-radius:0;
          border-bottom: 2px solid transparent;
        }
        &>a.label{
          &:hover{
            background-color: transparent;
            border-bottom-color:$primary;
            color:$body-color;
          }
        }
        border-right: 1px solid darken($white, 6%);
        &:last-child{
          border-right:none;
        }
        &>ul{
          display: block !important;
          position: static;
          box-shadow: none;
          padding: 0;
          margin-top: 0.5rem;
          border-radius:10px;
          box-shadow: none;
          background-image: linear-gradient(darken($white, 4%) 120px, $white 200px, $white);
          li.label{
            position: relative;
            padding-top: 12px;
            span{
              font-size: 12px;
              background: $primary;
              padding: 4px 0.5rem;
              line-height: 1;
              display:inline-block;
              border-radius:20px;
              position:absolute;
              left: 10px;
              top: -10px;
              font-weight: 700;
            }
          }
          a{
            padding: 0.25rem 1rem;
            white-space: normal;
            line-height:1;
          }
        }
      }
      &:hover > ul, &.sfHover > ul {display: flex}
    }
  }
}
#mobile-nav {
  position: fixed;top: 0;padding: 0px;bottom: 0;z-index: 1023;background: $body-color;left: -400px;width: 78%;min-width: 270px;max-width: 400px;overflow-y: auto;transition: 0.4s;
  &> ul{padding: 1rem 0;}
  ul {
    margin: 0;list-style: none;
    ul{
      padding-left: 0;padding-bottom: 1rem;
    }
    li {
      position: relative;font-size: 1rem;
      &.has-icon{
        a{
          display: flex;align-items: center;
          i{font-size: 150%;margin-right: 1rem;-webkit-text-stroke:0.3px $white}
        }
      }
      a {
        color: $white;border-top: 1px solid lighten($body-color, 4%);overflow: hidden;padding: 10px 30px 10px 25px;position: relative;text-decoration: none;width: 100%;display: block;outline: none;font-weight: 600;
        &:hover, &.active {
          &> a{color: $primary}
        }
      }
      &:first-child a{border: none;}

      li {padding-left: 0px;font-size: 14px;}
    }
    .menu-has-children{
      i {
        position: absolute;right: 0;z-index: 99;padding: 15px;cursor: pointer;color: lighten($body-color, 30%);
        &.fa-chevron-up {color: $primary}
      }
      li{
        i {padding:10px 15px;font-size: 1rem;}
        a {text-transform: none;border-top: none;padding: 7px 30px 7px 25px;background-color: lighten($body-color, 4%);}
        ul{border-bottom: 1px solid lighten($body-color, 8%);padding-bottom: 10px;margin-bottom: 10px;}
      }
    }
    .menu-item-active {color: $primary}
  }
}
#mobile-body-overly {width: 100%;height: 100%;z-index: 1022;top: 0;left: 0;position: fixed;background: rgba($body-color, 0.8);display: none}
body.mobile-nav-active {overflow: hidden;height: 100vh;}
body.mobile-nav-active #mobile-nav {left: 0}
body.mobile-nav-active #mobile-nav-toggle {color: #fff}
.nav-head a{border: none !important;}
.nav-head img{max-width: 120px;}
@media (max-width: 991.98px){
  .m-head{padding: 10px 30px 10px 25px;text-align: center;}
  .m-head{
    padding: 10px 30px 10px 25px;text-align: center;
    margin-top: 10px;
    .nav-logo{
      display: block;
      margin: 1rem;
      img{width: 180px;}
    }
    .language-selector{
      .language-item{
        margin:0 5px;
        img{width: 40px;}
      }
    }
  }
  .m-foot{
    padding: 30px;
    .btn{width: 100%;}
  }

  .menu-has-children > a{background-color: $body-color;}
  .menu-has-children, .menu-has-children > a.menu-item-active{background-color: lighten($body-color, 4%);}
  #mobile-nav > ul{border-bottom:5px solid lighten($body-color, 4%);}
  #mobile-nav{overflow: auto;}
  #mobile-nav ul li a .m-icon{color: $primary;font-size: 1.125rem;display: inline-block;vertical-align: middle;line-height: 1;width: 25px;}
  .m-nav-hide{display: none !important;}

  #mobile-nav{
    .mega-menu{
      .mega-menu-child{
        border-right: 1px solid darken($dark, 6%);
        &>span.label{
          font-weight: 700;
          display: block;
          padding:10px 30px 10px 25px;
          font-size:1rem;
          line-height: normal;
          color: $white;
        }
        &>ul{
          display: block !important;
          position: static;
          box-shadow: none;
          padding: 0;
          margin-top: 0.5rem;
          border-radius:10px;
          box-shadow: none;
          background-image: lighten($body-color, 4%);
          padding-bottom: 0.5rem;
          li.label{
            position: relative;
            padding-top:8px;
            background-color: lighten($body-color, 4%);
            span{
              font-size: 12px;
              background: $primary;
              padding: 1px 0.5rem;
              line-height: 1;
              display:inline-block;
              border-radius:20px;
              position:absolute;
              left: 25px;
              top: -13px;
              font-weight: 700;
              z-index: 1;
            }
          }
          a{
            font-size: 14px;
            padding: 3px 30px 3px 25px;
            font-weight: 400;
            line-height: normal;
            opacity: 0.65;
          }
        }
      }
    }
  }
}